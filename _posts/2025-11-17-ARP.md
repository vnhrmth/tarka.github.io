# What is ARP?

Address Resolution Protocol  
It is used to map IP addresses to Mac addresses.

---

## Why?

If a device A wants to send data to device B it needs to know the mac addresses

---

## How does it Work?

Considering local network, the devices each get unique IP Addresses assigned  
by the DHCP server in our case its the router.

So every device now has some address like 192.168.1.2 etc  
When a device wants to communicate to another device it needs to know  
which devices are there in the network.  
So it either sends a mDNS (Multicast Domain name service) query

So there are some devices which continue to listen to such a query, and  
respond to this query and provide their IP Address, which further gets listed  
in the sender's device.  
Not all devices send mDNS query, android phones don't send this, but we need  
an app to make it listen to mDNS query, or use another protocol (manually entering the IP) which is out  
of our scope in this current context.

So once the IP address is received, ARP which is located in the network interface stack  
of the OS starts working, it checks if there is any associated MAC address with  
the associated ip address of the receiver, if not then it sends a ARP query  
to the receiver, which in turn returns the MAC address, now once the MAC address  
is received, communication can begin.

---

ARP is a Layer 2 protocol used to map IP addresses to MAC addresses within a local network.  
It sends a broadcast ARP request asking, “Who has IP 192.168.1.3?”  
The device with that IP replies with its MAC address.  
The sender stores this in its ARP cache and uses it to send data directly.
